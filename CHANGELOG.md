# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html),
and is generated by [Changie](https://github.com/miniscruff/changie).

## 0.2.20 - 2023-05-21

### Added

* add xray to lambda.py
### Changed

* enable xray tracing in prod
* enable xray in serverless->lambda (all envs)
## 0.2.19 - 2023-05-19

### Added

* add script.post_to_discord()
### Changed

* refactor 'make script-name' behaviour
### Fixed

* fix: f"{self.title}.pdf" -> pdf_filename
## 0.2.18 - 2023-05-19

### Fixed

* fix "author presents" and "script name" layout
## 0.2.17 - 2023-05-18

### Fixed

* fix header position when no author information
## 0.2.16 - 2023-05-18

### Changed

* replace srggrs/assign-one-project-github-action@1.3.1 with actions/add-to-project@v0.5.0
## 0.2.15 - 2023-05-17

### Added

* style "1 Townsfolk is evil"
* if _meta exists and has an author, show in the PDF
### Changed

* don't create simple-night centred div unnecessarily
## 0.2.14 - 2023-05-17

### Added

* add "make test-busy-nights"
### Changed

* restyle "night extras" for full-fat ST sheets
## 0.2.13 - 2023-05-17

### Added

* use browser localStorage to preserve form selections
### Changed

* use personal GH token in assign-project
## 0.2.12 - 2023-05-17

## 0.2.11 - 2023-05-16

### Added

* add "make many" to generate PDF variations more easily
* allow testing of lambda.py with copy of real event
### Changed

* ensure we set (default) values for all options in lambda.py
* set lambda function timeout to 60s
* change serverless options
* extract ensure_logger() into utils
* minor refinements to the filename_slog based on options
* make the character ability font a bit heavier
* use twosheet instead of doublesided for night info option
* Use "Regular" format by default in upload form
* tell pylint not to stress about 'duplicate-code' in main.py
### Fixed

* deactivate option selections in web page when they aren't sensible to pick
* fix inconsistencies in multiple player reference sheets
* fixup accidentally broken "easy print" template
## 0.2.10 - 2023-05-15

### Fixed

* enable 'SLS Deploy (by env)' on tag event
## 0.2.9 - 2023-05-15

## 0.2.8 - 2023-05-15

### Added

* reafactor and extend script options
* add jinx information to simple night info page
* add "all the options" to web page (no server support yet)
* use a slug summary of options in the generated PDF filename
### Changed

* run: poetry update
* increase sls timeout (15->30)
* tweak the @timeit function output
## 0.2.7 - 2023-05-14

### Fixed

* change tf workflow to (also) apply on tag events
## 0.2.6 - 2023-05-14

### Added

* update Script to allow paper_size override option [#74]
* add botcpdf/multipart.py + tests [#74]
* if non-aws env, create symlink to generated pdf
### Changed

* add a4/letter to generated PDF file name [#74]
## 0.2.5 - 2023-05-13

### Added

* put tag value in PR title for image generation
## 0.2.4 - 2023-05-13

### Changed

* increase left & right pdf margins [#64]
* specify 'portrait' in @page for pdf css
## 0.2.3 - 2023-05-13

### Fixed

* fix apigw->lambda invoke permission for 'prod' [#63]
## 0.2.2 - 2023-05-13

### Changed

* run: pre-commit autoupdate
* run: poetry update
* rename: botc-json2pdf -> render-pdf
## 0.2.1 - 2023-05-13

### Fixed

* add 'tag event' to the serverless deploy env logic
## 0.2.0 - 2023-05-13

### Added

* add workspace enabled s3 web support
### Changed

* only 'deploy serverless' on PR and tags
* only run terraform workflow on PRs and tags
* increase terraform version to 1.4.*
* split some of s3-web into _vars, acm and r53
### Removed

* remove debug workflow
### Fixed

* fix bucket for aws_s3_bucket.root_bucket
## 0.1.4 - 2023-05-02

### Security

* update python deps
## 0.1.3 - 2023-05-02

### Fixed

* show fabled in pdf; restyle for better general fit
## 0.1.2 - 2023-05-02

### Fixed

* post htmltidy uploader fix - oops
## 0.1.1 - 2023-05-02

### Changed

* give the www page some more exciting styling
* modify the page footer
## 0.1.0 - 2023-05-01

### Added

* very early draft of Uploader page
* first draft of workflow to 'deploy serverless'
* print the PDF path we generated
* add terraform for user, group, role + assumests
* add util.upload_to_aws()
* add terraform for pdf s3 bucket
### Changed

* ignore pyproject.toml in create release workflow
* debug event info to job step summary
* set python requirement to 3.10 (lambda compatibility)
* rewrite Dockerfile to function in a lamdba world with recent pango
* docker-test: make the curl post silent
* add environment, timeout, logRetentionInDays to serverless.yml
### Fixed

* Remove style options that raise warnings and are ignore
## 0.0.25 - 2023-04-22

### Added

* add code support for individual characters in game_info/characters
* character addition: vizier
### Changed

* Update gameinfo/*.json from assets
## 0.0.24 - 2023-04-18

### Added

* add .github/workflows/_debug-events.yaml
* add debug-event to create-release
### Changed

* rename: build -> create-release
## 0.0.23 - 2023-04-18

### Changed

* add ignore-tags to the Create Release workflow
## 0.0.22 - 2023-04-18

### Added

* add Dockerfile; maybe for AWS Lambda later
### Changed

* Change name of pre-commit workflow
* update astroid (2.15.2 -> 2.15.3)
## 0.0.21 - 2023-04-18

### Fixed

* add exclusions to workflow triggers
## 0.0.20 - 2023-04-18

## 0.0.19 - 2023-04-18

### Changed

* use secrets.CHISEL_GITHUB_TOKEN with actions/checkout
## 0.0.18 - 2023-04-17

### Added

* The one exception to no local scripts
* add script source links to README
### Fixed

* add timeout to requests.get()
* exit(…) -> sys.exit(…)
## 0.0.17 - 2023-04-17

### Fixed

* try using CHISEL_GITHUB_TOKEN for the git work
## 0.0.16 - 2023-04-17

### Added

* check files generated in 'generate pdfs' workflow
### Changed

* manually regenerate sample PNGs
* don't trigger workflows because of generated/ files
### Fixed

* open the jink player sheet preview in the readme by default
## 0.0.15 - 2023-04-17

## 0.0.14 - 2023-04-17

### Added

* showcase full-on jinx rendering
## 0.0.13 - 2023-04-17

## 0.0.12 - 2023-04-17

### Added

* Create dependabot.yml
* add config for yamllint (comment min spaces behaviour)
## 0.0.11 - 2023-04-16

### Added

* render jinx reminders on night order pages
### Changed

* update generated images of scripts
### Fixed

* update jinx reason (night) to wrap, but not too soon [#17]
## 0.0.10 - 2023-04-15

### Added

* Add a crazy jinx script to the grabber
* process jinxes into script character information [#3]
* add '@timeit' decorator
* add @timeit to script class methods
### Changed

* stylize some extra ability text
* update 'generated/Reptiles!'
* increase visibility of reminder text on night order pages
## 0.0.9 - 2023-04-15

### Added

* add pdf2images functionality
* load jinxes, offer some basic code features [nothing visual] [#3]
* add 'make grab-some-scripts' action
* showcase some of the generated output
### Changed

* tidy-up section side-headers on first page
### Removed

* remove all previously comitted scripts/
## 0.0.8 - 2023-04-14

### Added

* add workflow action to auto-assign PR owner
* fetch Fabled json information from bra1n
* add support for (loading) fabled character roles
### Changed

* update role.add_meta_roles() to use json file data
* refactor some role init into add_character_roles()
* Update gameinfo/*.json from assets
* update icons (from /github.com/bra1n/townsquare)
## 0.0.7 - 2023-04-14

### Added

* add workflow to run pre-commit checks
* add 'create release' workflow
### Fixed

* update pre-commit to also exclude .changes/ and scripts/
## 0.0.6 - 2023-04-14

### Added

* fix placement of footer info on first page
### Changed

* add more json assets to 'make refresh-json' [#2]
* Update gameinfo/*.json from assets
* pre-commit autoupdate, and format change for 'exclude'
* ignore .changes/unreleased/ files with yamllint
### Fixed

* [pre-commit] ignore anything in gameinfo and fonts as we don't author these ourself
* add make dep of 'install-dev' for 'process'
## 0.0.5 - 2023-04-14

### Added

- add .gitattributes file to preserve our sanity with external json files

### Changed

- rework first/other night order behaviour [#2]
- pre-commit autoupdate, and format change for 'exclude'
- remove roles.json; use new gameinfo/roles-bra1n.json
- update \*.json from upstream sources
- extend 'make refresh-json'

## 0.0.4 - 2023-04-13

### Added

* add generated-by to first page footer, with version
* fail with error when trying to add a role where we don't recognise the id slug [#5]
* handle _meta data found in script data json [#1]
### Changed

* extract Role and RoleData to role.py
* refine the 'id slug not known' error output
### Fixed

* fix git commit in 'make changelog' action

## 0.0.3 - 2023-04-13

### Added

- makefile rules for release prep

## 0.0.2 - 2023-04-13

### Added

- use changie

## 0.0.1 - 2023-04-13

### Added

- Initial Release
